<p *ngIf="errorMessage.length!=0" class="text-danger">{{errorMessage}}</p>
<app-wor-video *ngIf="(userLoginOn && !editMode) || !userLoginOn"></app-wor-video>

<div *ngIf="((userLoginOn && !editMode) || !userLoginOn) && loadPage ">

  <div id="fullScreen">
    <div style="width: 33%"></div>
    <div id="container-info"
       [style.--container-info-color]="orderColor"
    >
      <div id="container-header">
        <app-header></app-header>
      </div>
      <div id="container-orderLogo">
        <img [src]="ordersLogo[orderId-1]">
      </div>
      <div id="container-info-text">
        <div id="container-name-missions">
          <div id="container-name">
            <h1 id="radiantName"><b>{{user?.name}}</b></h1>
          </div>
          <div id="container-missions">
            <h4 id="missionsCompleted"><b> Missions completed: </b> {{user?.knightRadiant?.missionsCompleted}} </h4>
          </div>
        </div>
        <div id="container-radiantOrder">
          <div id="container-orderGlyph"><img id="orderGlyphImg" [src]="ordersGlyph[orderId-1]"></div>
          <h3 id="radiantOrder-name"><b> {{user?.knightRadiant?.radiantOrder?.name}} </b></h3>
        </div>

        <div class="container-table-powers">
          <!-- Primera fila -->
          <div class="column1">
            <img class="surgeGlyphImg" [src]="surgesGlyph[firstSurgeGlyph]">
          </div>
          <div class="column2">
            <ng-container *ngIf="user && user.knightRadiant && user.knightRadiant.radiantOrder && user.knightRadiant.radiantOrder.surges[0]">
              <h4><b>
                <!-- Utilizando el operador de navegación segura para evitar el error -->
                Surge of {{ user.knightRadiant.radiantOrder.surges[0].name ? user.knightRadiant.radiantOrder.surges[0].name : 'Nombre no disponible' }}
              </b></h4>
            </ng-container>
          </div>
          <div class="column3">
            <h4><b>{{firstSurgeText}}</b></h4>
          </div>

          <!-- Segunda fila -->
          <div class="column1">
            <img class="surgeGlyphImg" [src]="surgesGlyph[secondSurgeGlyph]">
          </div>
          <div class="column2">
            <ng-container *ngIf="user && user.knightRadiant && user.knightRadiant.radiantOrder && user.knightRadiant.radiantOrder.surges[1]">
              <h4><b>
                <!-- Utilizando el operador de navegación segura para evitar el error -->
                Surge of {{ user.knightRadiant.radiantOrder.surges[1].name ? user.knightRadiant.radiantOrder.surges[1].name : 'Nombre no disponible' }}
              </b></h4>
            </ng-container>
          </div>
          <div class="column3">
            <h4><b>{{secondSurgeText}}</b></h4>
          </div>

          <!-- Tercera fila -->
          <div class="column1">
            <img id="shardbladeImg" src="assets/img/icons/shardblade.png">
          </div>
          <div class="column2">
            <h4><b>Shardblade</b></h4>
          </div>
          <div class="column3">
            <h4><b>{{shardblade}}</b></h4>
          </div>

          <!-- Cuarta fila -->
          <div class="column1 col3lastFile">
            <img id="shardplateImg" src="assets/img/icons/shardplate.png">
          </div>
          <div class="column2 col3lastFile">
            <h4><b>Shardplate</b></h4>
          </div>
          <div class="column3 col3lastFile">
            <h4><b>{{shardplate}}</b></h4>
          </div>
        </div>
        <div id="container-ideals" *ngIf="isRadiantIdeal">
          <h3 id="title-pronuncedIdeals"><b>Pronunced Ideals</b></h3>
          <div class="container-ideal" *ngIf="isRadiantFirstIdeal">
            <h4 class="titles-ideals">First ideal</h4>
            <p class="text-ideals">{{radiantFirstIdeal}}</p>
          </div>
          <div class="container-ideal" *ngIf="isRadiantSecondIdeal">
            <h4 class="titles-ideals">Second ideal</h4>
            <p class="text-ideals">{{radiantSecondIdeal}}</p>
          </div>
          <div class="container-ideal" *ngIf="isRadiantThirdIdeal">
            <h4 class="titles-ideals">Third ideal</h4>
            <p class="text-ideals">{{radiantThirdIdeal}}</p>
          </div>
          <div class="container-ideal" *ngIf="isRadiantFourthIdeal">
            <h4 class="titles-ideals">Fourth ideal</h4>
            <p class="text-ideals">{{radiantFourthIdeal}}</p>
          </div>
          <div class="container-ideal" *ngIf="isRadiantFifthIdeal">
            <h4 class="titles-ideals">Fifth ideal</h4>
            <p class="text-ideals">{{radiantFifthIdeal}}</p>
          </div>
        </div>
        <button (click)="setRadiantOrder()">Set radiant order</button>
        <button (click)="setMissionsCompleted(radiantId)">Set missions completed</button>
      </div>
    </div>
    <div style="width: 33%"></div>
  </div>


    <!--
    <button *ngIf="userLoginOn && !editMode" (click)="editMode=true"  class="btn btn-dark"><img
            src="https://cdn.icon-icons.com/icons2/1572/PNG/96/3592815-compose-create-edit-edit-file-office-pencil-writing_107734.png"
            width="8%" alt="editar" />Editar Datos Personales</button>
    -->
</div>

<app-kr-radiant-order-form *ngIf="orderForm"></app-kr-radiant-order-form>
<!--
<form *ngIf="userLoginOn && editMode" [formGroup]="registerForm" >
    <div class="form-group row">
        <label for="inputFirstName" class="col-sm-1 col-form-label">Nombre</label>
        <div class="col-sm-11">
            <input type="text" formControlName="firstname" class="form-control" id="inputFirstName">

            <div *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)" class="text-danger">
                <div *ngIf="firstname.errors?.['required']">
                    El Nombre es requerido.
                </div>

            </div>
        </div>
    </div>
    <div class="form-group row">
        <label for="inputLasttName" class="col-sm-1 col-form-label">Apellido</label>
        <div class="col-sm-11">
            <input type="text" formControlName="lastname" class="form-control" id="inputLasttName">
            <div *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)" class="text-danger">
                <div *ngIf="lastname.errors?.['required']">
                    El Apellido es requerido.
                </div>
            </div>
        </div>
    </div>
    <div class="form-group row border-bottom pb-3" >
        <label for="inputCountry" class="col-sm-1 col-form-label">País</label>
        <div class="col-sm-11">
            <input type="text" formControlName="country" class="form-control" id="inputCountry" >
            <div *ngIf="country.invalid && (country.dirty || country.touched)" class="text-danger">
                <div *ngIf="country.errors?.['required']">
                    El País es requerido.
                </div>
            </div>
        </div>
    </div>
    <button type="submit" (click)="savePersonalDetailsData()"  class="btn btn-dark mt-3">Guardar</button>
    <a class="btn btn-danger mt-3" (click)="editMode=false">Cancelar</a>
</form>
-->
